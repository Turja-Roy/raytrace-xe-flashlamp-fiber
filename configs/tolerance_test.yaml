# Tolerance analysis configuration profile
# High-resolution tolerance testing with wider range

# Ray tracing parameters
rays:
  n_rays: 5000  # High ray count for accuracy
  use_vectorized: true

# Optimization settings - use fast Powell for baseline
optimization:
  method: powell

# Tolerance analysis settings
tolerance:
  z_range_mm: 1.0       # Wide range: Â±1.0mm displacement
  n_samples: 41         # High resolution: 41 samples
  n_rays: 5000          # Many rays for accurate tolerance measurement
  test_lateral: false
  test_tilt: false

# Batch tolerance mode settings (optional - for batch analysis)
# To use batch mode:
#   python raytrace.py tolerance --results-file results/2025-11-07_combine_powell_argon/batch_combine_1.csv --coupling-threshold 0.35 --config configs/tolerance_test.yaml
batch_tolerance:
  results_file: results/2025-11-07_combine_powell_argon/results_combine_2025-11-07_combine_powell_argon.csv
  coupling_threshold: 0.35  # Minimum coupling to include in tolerance analysis

# Medium - use air for realistic conditions
medium:
  type: argon
  pressure_atm: 1.0
  temperature_k: 293.15
  humidity_fraction: 0.01

# Output settings
output:
  results_dir: results
  plots_dir: plots
  log_dir: logs
  save_plots: true
  save_csv: true
